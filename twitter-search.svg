<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="770px" height="699px" viewBox="-0.5 -0.5 770 699" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2021-04-06T09:57:37.084Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.192 Safari/537.36&quot; etag=&quot;QtuzAH1G-79Z5hYTbezG&quot; version=&quot;14.5.7&quot;&gt;&lt;diagram id=&quot;2uFIiMILFe8A4-htLBFk&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="340" y="0" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 10px; margin-left: 390px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><b>Twitter Search</b></div></div></div></foreignObject><text x="390" y="14" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Twitter Search</text></switch></g><rect x="0" y="40" width="100" height="50" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 47px; margin-left: 2px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><b>Requirements</b><br />- Store tweets<br />- Search tweets</div></div></div></foreignObject><text x="2" y="59" fill="#000000" font-family="Helvetica" font-size="12px">Requirements...</text></switch></g><path d="M 141 464 L 224.63 464" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 229.88 464 L 222.88 467.5 L 224.63 464 L 222.88 460.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 51 444 C 27 444 21 464 40.2 468 C 21 476.8 42.6 496 58.2 488 C 69 504 105 504 117 488 C 141 488 141 472 126 464 C 141 448 117 432 96 440 C 81 428 57 428 51 444 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 464px; margin-left: 22px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Client</div></div></div></foreignObject><text x="81" y="468" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Client</text></switch></g><path d="M 663 422 C 663 413.72 676.43 407 693 407 C 700.96 407 708.59 408.58 714.21 411.39 C 719.84 414.21 723 418.02 723 422 L 723 452 C 723 460.28 709.57 467 693 467 C 676.43 467 663 460.28 663 452 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 723 422 C 723 430.28 709.57 437 693 437 C 676.43 437 663 430.28 663 422" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 450px; margin-left: 664px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">DB</div></div></div></foreignObject><text x="693" y="453" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">DB</text></switch></g><rect x="625" y="40" width="71" height="158" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 47px; margin-left: 627px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><b>Data</b><br /><u>User</u><br />- userId<br />- username<br />- password<br /><br /><u>Tweet</u><br />- tweetId<br />- userId<br />- text<br />- date</div></div></div></foreignObject><text x="627" y="59" fill="#000000" font-family="Helvetica" font-size="12px">Data...</text></switch></g><rect x="175" y="40" width="272" height="46" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 47px; margin-left: 177px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><b>Search</b><br />- Fuzzy string matching (compute string distance)<br />- For all equal matches, sort by recency</div></div></div></foreignObject><text x="177" y="59" fill="#000000" font-family="Helvetica" font-size="12px">Search...</text></switch></g><rect x="231" y="434" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 464px; margin-left: 232px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Load Balancer</div></div></div></foreignObject><text x="291" y="468" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Load Balancer</text></switch></g><path d="M 361 474 L 409 474 L 409 420 L 450.63 420" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 455.88 420 L 448.88 423.5 L 450.63 420 L 448.88 416.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 361 474 L 409 474 L 409 534 L 450.63 534" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 455.88 534 L 448.88 537.5 L 450.63 534 L 448.88 530.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="241" y="444" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 474px; margin-left: 242px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Load Balancer</div></div></div></foreignObject><text x="301" y="478" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Load Balancer</text></switch></g><rect x="457" y="390" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 420px; margin-left: 458px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Tweet</div></div></div></foreignObject><text x="517" y="424" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Tweet</text></switch></g><path d="M 587 430 L 625 430 L 625 437 L 656.63 437" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 661.88 437 L 654.88 440.5 L 656.63 437 L 654.88 433.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 587 430 L 625 430 L 625 527 L 656.63 527" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 661.88 527 L 654.88 530.5 L 656.63 527 L 654.88 523.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="467" y="400" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 430px; margin-left: 468px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Tweet</div></div></div></foreignObject><text x="527" y="434" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Tweet</text></switch></g><path d="M 715 367 L 715 387 L 693 387 L 693 404" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><ellipse cx="693" cy="407" rx="3" ry="3" fill="#000000" stroke="#000000" pointer-events="all"/><rect x="661.5" y="335" width="107" height="32" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 342px; margin-left: 664px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><b>Database</b><br />- Shard by tweetId</div></div></div></foreignObject><text x="664" y="354" fill="#000000" font-family="Helvetica" font-size="12px">Database...</text></switch></g><path d="M 663 512 C 663 503.72 676.43 497 693 497 C 700.96 497 708.59 498.58 714.21 501.39 C 719.84 504.21 723 508.02 723 512 L 723 542 C 723 550.28 709.57 557 693 557 C 676.43 557 663 550.28 663 542 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 723 512 C 723 520.28 709.57 527 693 527 C 676.43 527 663 520.28 663 512" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 540px; margin-left: 664px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Index</div></div></div></foreignObject><text x="693" y="543" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Index</text></switch></g><rect x="457" y="504" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 534px; margin-left: 458px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Search</div></div></div></foreignObject><text x="517" y="538" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Search</text></switch></g><path d="M 587 544 L 625 544 L 625 527 L 656.63 527" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 661.88 527 L 654.88 530.5 L 656.63 527 L 654.88 523.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 587 544 L 625 544 L 625 437 L 656.63 437" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 661.88 437 L 654.88 440.5 L 656.63 437 L 654.88 433.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="467" y="514" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 544px; margin-left: 468px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Search</div></div></div></foreignObject><text x="527" y="548" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Search</text></switch></g><path d="M 181 390 L 181 460" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><ellipse cx="181" cy="463" rx="3" ry="3" fill="#000000" stroke="#000000" pointer-events="all"/><rect x="121" y="372" width="120" height="18" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 381px; margin-left: 181px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">DNS Load balancing</div></div></div></foreignObject><text x="181" y="385" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">DNS Load balancing</text></switch></g><path d="M 695.5 607 L 695.5 582 L 693 582 L 693 560" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><ellipse cx="693" cy="557" rx="3" ry="3" fill="#000000" stroke="#000000" pointer-events="all"/><rect x="625" y="607" width="141" height="88" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 614px; margin-left: 627px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><div><b>Index</b></div><div>- Use key-value store</div><div><span>    key: word</span></div><div><span>    value: list of tweetIds</span></div><div>- Shard by hash of word</div><div>- Use consistent hashing</div></div></div></div></foreignObject><text x="627" y="626" fill="#000000" font-family="Helvetica" font-size="12px">Index...</text></switch></g><rect x="457" y="246" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 276px; margin-left: 458px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Key Generation</div></div></div></foreignObject><text x="517" y="280" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Key Generation</text></switch></g><path d="M 527 316 L 527 353 L 517 353 L 517 383.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 517 388.88 L 513.5 381.88 L 517 383.63 L 520.5 381.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="467" y="256" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 286px; margin-left: 468px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Key Generation</div></div></div></foreignObject><text x="527" y="290" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Key Generation</text></switch></g><path d="M 371 243 L 414 243 L 414 276 L 454 276" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><ellipse cx="457" cy="276" rx="3" ry="3" fill="#000000" stroke="#000000" pointer-events="all"/><rect x="156" y="164" width="215" height="158" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 171px; margin-left: 158px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><b>Key Generation</b><br />- Can't use DB to generate keys,<br />distributed and need system-wide <br />unique keys<br />- Key generation service generates<br />system-wide unique tweetIds<br />- Duplicate for fault-tolerance and<br />scale, each server owns all even or<br />odd numbers.  Can add additional<br />servers where each server owns every<br />nth number</div></div></div></foreignObject><text x="158" y="183" fill="#000000" font-family="Helvetica" font-size="12px">Key Generation...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>
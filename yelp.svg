<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1391px" height="1041px" viewBox="-0.5 -0.5 1391 1041" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2021-04-08T10:42:04.724Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.192 Safari/537.36&quot; etag=&quot;TvdECtQOq1chjKRLxMd7&quot; version=&quot;14.5.8&quot;&gt;&lt;diagram id=&quot;kY122jgU-ycYiACnrmmJ&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="330" y="0" width="130" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 10px; margin-left: 395px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><b>Yelp System Design</b></div></div></div></foreignObject><text x="395" y="14" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Yelp System Design</text></switch></g><rect x="10" y="35" width="270" height="120" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 42px; margin-left: 12px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><b>Functional Requirements</b><br />- Users can add/delete/update places<br />- Find all places within given radius of lat/long<br />- Users can add reviews with picture, text, rating<br /><br /><b>Non-Functional Requirements<br /></b>-<b> </b>Minimum latency<br />- Support heavy search load</div></div></div></foreignObject><text x="12" y="54" fill="#000000" font-family="Helvetica" font-size="12px">Functional Requirements...</text></switch></g><rect x="330" y="35" width="230" height="120" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 42px; margin-left: 332px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><b>Use Cases</b><br />- Make an account<br />- Log in<br />- Create new place<br />- Search nearby places with given radius<br />- Add review to place<br />- Delete place<br />- Delete review</div></div></div></foreignObject><text x="332" y="54" fill="#000000" font-family="Helvetica" font-size="12px">Use Cases...</text></switch></g><rect x="610" y="35" width="360" height="220" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 42px; margin-left: 612px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><b>Data (NoSQL)</b><br />Use NoSQL because there aren't many relations. Could break <br />out Place-to-PictureURL mapping to PlacePicture table, but there<br />doesn't seem to be a use case where we'd need to retrieve a <br />picture other than in the context of a Place.  We always search for <br />a place and then grab its pictures.  Easier and more scalable to <br />avoid the relations/joins and just bundle the data.  <br /><br />Could nest Reviews inside Places instead of using separate <br />collection, would remove the only join we currently have.  <br />Currently don't need to query reviews by themselves, only<br />in the context of Places.  Want to avoid overly tight coupling,<br />would be poorly extensible - what if you want to remove all <br />reviews from a user?  How would you search them efficiently?<br />Don't embed reviews because it sacrifices too much extensibility.</div></div></div></foreignObject><text x="612" y="54" fill="#000000" font-family="Helvetica" font-size="12px">Data (NoSQL)...</text></switch></g><path d="M 130 590 L 203.63 590" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 208.88 590 L 201.88 593.5 L 203.63 590 L 201.88 586.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 40 570 C 16 570 10 590 29.2 594 C 10 602.8 31.6 622 47.2 614 C 58 630 94 630 106 614 C 130 614 130 598 115 590 C 130 574 106 558 85 566 C 70 554 46 554 40 570 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 590px; margin-left: 11px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Client</div></div></div></foreignObject><text x="70" y="594" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Client</text></switch></g><rect x="480" y="410" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 440px; margin-left: 481px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Auth</div></div></div></foreignObject><text x="540" y="444" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Auth</text></switch></g><path d="M 680 435 C 680 426.72 693.43 420 710 420 C 717.96 420 725.59 421.58 731.21 424.39 C 736.84 427.21 740 431.02 740 435 L 740 465 C 740 473.28 726.57 480 710 480 C 693.43 480 680 473.28 680 465 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 740 435 C 740 443.28 726.57 450 710 450 C 693.43 450 680 443.28 680 435" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 463px; margin-left: 681px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">DB</div></div></div></foreignObject><text x="710" y="466" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">DB</text></switch></g><path d="M 610 450 L 673.63 450" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 678.88 450 L 671.88 453.5 L 673.63 450 L 671.88 446.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="490" y="420" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 450px; margin-left: 491px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Auth</div></div></div></foreignObject><text x="550" y="454" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Auth</text></switch></g><rect x="210" y="560" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 590px; margin-left: 211px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Load Balancer</div></div></div></foreignObject><text x="270" y="594" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Load Balancer</text></switch></g><path d="M 340 600 L 410 600 L 410 440 L 473.63 440" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 478.88 440 L 471.88 443.5 L 473.63 440 L 471.88 436.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 340 600 L 410 600 L 410 635 L 473.63 635" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 478.88 635 L 471.88 638.5 L 473.63 635 L 471.88 631.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 340 600 L 410 600 L 410 800 L 473.63 800" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 478.88 800 L 471.88 803.5 L 473.63 800 L 471.88 796.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="220" y="570" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 600px; margin-left: 221px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Load Balancer</div></div></div></foreignObject><text x="280" y="604" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Load Balancer</text></switch></g><rect x="480" y="605" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 635px; margin-left: 481px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Place</div></div></div></foreignObject><text x="540" y="639" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Place</text></switch></g><path d="M 610 645 L 683.63 645" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 688.88 645 L 681.88 648.5 L 683.63 645 L 681.88 641.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 610 645 L 650 645 L 650 720 L 763.63 720" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 768.88 720 L 761.88 723.5 L 763.63 720 L 761.88 716.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 610 645 L 650 645 L 650 575 L 683.63 575" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 688.88 575 L 681.88 578.5 L 683.63 575 L 681.88 571.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="490" y="615" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 645px; margin-left: 491px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Place</div></div></div></foreignObject><text x="550" y="649" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Place</text></switch></g><path d="M 690 630 C 690 621.72 703.43 615 720 615 C 727.96 615 735.59 616.58 741.21 619.39 C 746.84 622.21 750 626.02 750 630 L 750 660 C 750 668.28 736.57 675 720 675 C 703.43 675 690 668.28 690 660 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 750 630 C 750 638.28 736.57 645 720 645 C 703.43 645 690 638.28 690 630" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 658px; margin-left: 691px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">DB</div></div></div></foreignObject><text x="720" y="661" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">DB</text></switch></g><path d="M 800 385 L 540 385 L 540 407" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><ellipse cx="540" cy="410" rx="3" ry="3" fill="#000000" stroke="#000000" pointer-events="all"/><rect x="800" y="360" width="160" height="50" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 367px; margin-left: 802px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><b>Auth Service</b><br />- Handles authentication<br />- Partition by hash of userId</div></div></div></foreignObject><text x="802" y="379" fill="#000000" font-family="Helvetica" font-size="12px">Auth Service...</text></switch></g><path d="M 800 425 L 770 425 L 770 450 L 743 450" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><ellipse cx="740" cy="450" rx="3" ry="3" fill="#000000" stroke="#000000" pointer-events="all"/><rect x="800" y="410" width="140" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 417px; margin-left: 802px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><b>Auth DB</b><br />- Holds User collection</div></div></div></foreignObject><text x="802" y="429" fill="#000000" font-family="Helvetica" font-size="12px">Auth DB...</text></switch></g><path d="M 885 535 L 540 535 L 540 602" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><ellipse cx="540" cy="605" rx="3" ry="3" fill="#000000" stroke="#000000" pointer-events="all"/><rect x="885" y="450" width="310" height="170" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 457px; margin-left: 887px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><b>Place Service</b><br />- Handle create, read, update, delete of places<br />- Uploads are chunked and streamed<br />- Query for range of lat/long based on user's position, <br />can either return all Places in range (rectangle)<br />or can iterate over results and drop ones with radius <br />greater than requested (circle)<br />- Return Place with array of reviewIds to client, client<br />can request reviewIds it wants.  Might need to paginate<br />for large number of reviews<br />- Partition by blocks of lat/long<br />- Use LRU Cache, try to store ~20% of places</div></div></div></foreignObject><text x="887" y="469" fill="#000000" font-family="Helvetica" font-size="12px">Place Service...</text></switch></g><path d="M 885 680 L 817.5 680 L 817.5 645 L 753 645" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><ellipse cx="750" cy="645" rx="3" ry="3" fill="#000000" stroke="#000000" pointer-events="all"/><rect x="885" y="640" width="300" height="80" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 647px; margin-left: 887px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><b>Place DB</b><br />- Holds Place collection<br />- Index on latitude and longitude.  Will reduce write<br />performance but increase search performance.  Worth<br />it because this is search heavy workload</div></div></div></foreignObject><text x="887" y="659" fill="#000000" font-family="Helvetica" font-size="12px">Place DB...</text></switch></g><path d="M 800 750 L 800 1010 L 336.37 1010" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 331.12 1010 L 338.12 1006.5 L 336.37 1010 L 338.12 1013.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 770 705 C 770 696.72 783.43 690 800 690 C 807.96 690 815.59 691.58 821.21 694.39 C 826.84 697.21 830 701.02 830 705 L 830 735 C 830 743.28 816.57 750 800 750 C 783.43 750 770 743.28 770 735 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 830 705 C 830 713.28 816.57 720 800 720 C 783.43 720 770 713.28 770 705" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 733px; margin-left: 771px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">File Store</div></div></div></foreignObject><text x="800" y="736" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">File Store</text></switch></g><path d="M 885 755 L 857.5 755 L 857.5 720 L 833 720" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><ellipse cx="830" cy="720" rx="3" ry="3" fill="#000000" stroke="#000000" pointer-events="all"/><rect x="885" y="730" width="260" height="50" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 737px; margin-left: 887px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><b>File Storage</b><br />- Holds Place and Review pictures<br />- Could be S3 or our own distributed file store</div></div></div></foreignObject><text x="887" y="749" fill="#000000" font-family="Helvetica" font-size="12px">File Storage...</text></switch></g><path d="M 210 1010 L 76 1010 L 76 632.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 76 627.12 L 79.5 634.12 L 76 632.37 L 72.5 634.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="210" y="980" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1010px; margin-left: 211px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">CDN</div></div></div></foreignObject><text x="270" y="1014" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">CDN</text></switch></g><rect x="480" y="770" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 800px; margin-left: 481px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Review</div></div></div></foreignObject><text x="540" y="804" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Review</text></switch></g><path d="M 610 810 L 650 810 L 650 850 L 683.63 850" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 688.88 850 L 681.88 853.5 L 683.63 850 L 681.88 846.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 610 810 L 650 810 L 650 780 L 683.63 780" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 688.88 780 L 681.88 783.5 L 683.63 780 L 681.88 776.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 610 810 L 650 810 L 650 720 L 763.63 720" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 768.88 720 L 761.88 723.5 L 763.63 720 L 761.88 716.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="490" y="780" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 810px; margin-left: 491px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Review</div></div></div></foreignObject><text x="550" y="814" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Review</text></switch></g><path d="M 690 835 C 690 826.72 703.43 820 720 820 C 727.96 820 735.59 821.58 741.21 824.39 C 746.84 827.21 750 831.02 750 835 L 750 865 C 750 873.28 736.57 880 720 880 C 703.43 880 690 873.28 690 865 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 750 835 C 750 843.28 736.57 850 720 850 C 703.43 850 690 843.28 690 835" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 863px; margin-left: 691px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">DB</div></div></div></foreignObject><text x="720" y="866" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">DB</text></switch></g><path d="M 440 880 L 550 880 L 550 843" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><ellipse cx="550" cy="840" rx="3" ry="3" fill="#000000" stroke="#000000" pointer-events="all"/><rect x="270" y="840" width="170" height="80" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 847px; margin-left: 272px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><b>Review Service</b><br />- Handles CRUD for reviews<br />- Partition by hash of placeId<br />- Use LRU cache, try to store <br />20% of reviews</div></div></div></foreignObject><text x="272" y="859" fill="#000000" font-family="Helvetica" font-size="12px">Review Service...</text></switch></g><path d="M 420 935 L 720 935 L 720 883" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><ellipse cx="720" cy="880" rx="3" ry="3" fill="#000000" stroke="#000000" pointer-events="all"/><rect x="270" y="920" width="150" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 927px; margin-left: 272px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><b>Review DB</b><br />- Holds Review collection</div></div></div></foreignObject><text x="272" y="939" fill="#000000" font-family="Helvetica" font-size="12px">Review DB...</text></switch></g><rect x="980" y="35" width="80" height="60" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 42px; margin-left: 982px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><u>User</u><br />- userId<br />- username<br />- password</div></div></div></foreignObject><text x="982" y="54" fill="#000000" font-family="Helvetica" font-size="12px">User...</text></switch></g><rect x="980" y="115" width="100" height="100" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 122px; margin-left: 982px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><u>Place</u><br />- placeId<br />- latitude<br />- longitude<br />- title<br />- description<br />- pictureURLs[]</div></div></div></foreignObject><text x="982" y="134" fill="#000000" font-family="Helvetica" font-size="12px">Place...</text></switch></g><rect x="1085" y="35" width="100" height="100" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 42px; margin-left: 1087px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><u>Review</u><br />- reviewId<br />- placeId<br />- userId<br />- text<br />- rating<br />- pictureURLs[]</div></div></div></foreignObject><text x="1087" y="54" fill="#000000" font-family="Helvetica" font-size="12px">Review...</text></switch></g><rect x="1275" y="510" width="80" height="80" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><ellipse cx="1315" cy="550" rx="40" ry="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="1350" y="510" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 520px; margin-left: 1370px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">+lat</div></div></div></foreignObject><text x="1370" y="524" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">+lat</text></switch></g><rect x="1355" y="570" width="30" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 580px; margin-left: 1370px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">-lat</div></div></div></foreignObject><text x="1370" y="584" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">-lat</text></switch></g><rect x="1265" y="590" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 600px; margin-left: 1285px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">-long</div></div></div></foreignObject><text x="1285" y="604" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">-long</text></switch></g><rect x="1320" y="590" width="50" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 600px; margin-left: 1345px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">+long</div></div></div></foreignObject><text x="1345" y="604" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">+long</text></switch></g><path d="M 1314.04 548 L 1286.72 521.72" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 530px; margin-left: 1306px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">R</div></div></div></foreignObject><text x="1306" y="534" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">R</text></switch></g><path d="M 1295 480 L 1295 490 L 1275 490 L 1275 503.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1275 508.88 L 1271.5 501.88 L 1275 503.63 L 1278.5 501.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1230" y="450" width="130" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 465px; margin-left: 1295px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">Filter out red corners <br />in application server</div></div></div></foreignObject><text x="1295" y="469" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Filter out red corner...</text></switch></g><path d="M 140 510 L 140 530 L 85 530 L 85 563" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><ellipse cx="85" cy="566" rx="3" ry="3" fill="#000000" stroke="#000000" pointer-events="all"/><rect x="0" y="420" width="280" height="90" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 427px; margin-left: 2px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><b>Client</b><br />- When sending search request,<br />client includes their lat/long from GPS<br />- Assume reviews are collapsed by default,<br />client requests them only when they're expanded.<br />Saves bandwidth and backend resources</div></div></div></foreignObject><text x="2" y="439" fill="#000000" font-family="Helvetica" font-size="12px">Client...</text></switch></g><path d="M 290 690 L 290 660 L 280 660 L 280 633" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><ellipse cx="280" cy="630" rx="3" ry="3" fill="#000000" stroke="#000000" pointer-events="all"/><rect x="210" y="690" width="160" height="80" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 697px; margin-left: 212px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><b>Load Balancer</b><br />- Use consistent hashing<br />- Use DNS Load Balancing<br />to distribute traffic across<br />load balancers</div></div></div></foreignObject><text x="212" y="709" fill="#000000" font-family="Helvetica" font-size="12px">Load Balancer...</text></switch></g><path d="M 690 560 C 690 551.72 703.43 545 720 545 C 727.96 545 735.59 546.58 741.21 549.39 C 746.84 552.21 750 556.02 750 560 L 750 590 C 750 598.28 736.57 605 720 605 C 703.43 605 690 598.28 690 590 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 750 560 C 750 568.28 736.57 575 720 575 C 703.43 575 690 568.28 690 560" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 588px; margin-left: 691px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Cache</div></div></div></foreignObject><text x="720" y="591" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Cache</text></switch></g><path d="M 690 765 C 690 756.72 703.43 750 720 750 C 727.96 750 735.59 751.58 741.21 754.39 C 746.84 757.21 750 761.02 750 765 L 750 795 C 750 803.28 736.57 810 720 810 C 703.43 810 690 803.28 690 795 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 750 765 C 750 773.28 736.57 780 720 780 C 703.43 780 690 773.28 690 765" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 793px; margin-left: 691px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Cache</div></div></div></foreignObject><text x="720" y="796" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Cache</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>